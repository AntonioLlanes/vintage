{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>

    <!-- Preload Logo to Prevent Flickering -->
    <link rel="preload" as="image" href="{% static 'myapp/js/VMlogo.png' %}">

    <!-- Link to External CSS -->
    <link rel="stylesheet" href="{% static 'myapp/css/home.css' %}">
</head>
<body>
    <!-- Intro Screen -->
    <div id="intro-screen">
        <img src="{% static 'myapp/js/VMlogo.png' %}" alt="Vintage Logo" id="intro-logo">
    </div>

    <!-- Main Site Content -->
    <div id="site-content">
        <!-- Navigation Bar -->
        <header class="site-header">
            <!-- Your navigation content here -->
        </header>

        <!-- Main Content -->
        <main>
            <!-- Homepage Logo -->
            <div class="logo">
                <img src="{% static 'myapp/js/VMlogo.png' %}" alt="Homepage Logo">
            </div>

            <!-- Instagram Section -->
            <div class="instagram-section">
                <div class="instagram-gallery">
                    <div class="grid-container">
                        {% for image in instagram_images %}
                            <div class="grid-item">
                                <a href="{{ image.link }}" target="_blank">
                                    <img src="{{ image.image_file.url }}" alt="Instagram Image">
                                </a>
                            </div>
                        {% endfor %}
                    </div>
                </div>
                <div class="instagram-text">
                    <h2>Retro Finds, Fresh Feeds.<br>Tap In.</h2>
                    <a href="https://www.instagram.com/yourbrand" target="_blank" class="follow-button">
                        Follow Us â†’
                    </a>
                </div>
            </div>

            <!-- Product Grid -->
            <div class="product-grid">
                {% for product in products %}
                    <div class="product-card">
                        <a href="{% url 'product_detail' product.id %}">
                            <div class="image-container">
                                <img src="{{ product.images.first.image.url }}" alt="{{ product.name }}" class="first-image">
                                {% if product.images.all|length > 1 %}
                                    <img src="{{ product.images.all.1.image.url }}" alt="{{ product.name }}" class="second-image">
                                {% endif %}
                            </div>
                        </a>
                        <div class="product-info">
                            <div class="title-container">
                                <h2 class="{% if product.name|length > 25 %}long-title{% endif %}">
                                    <a href="{% url 'product_detail' product.id %}">{{ product.name }}</a>
                                </h2>
                            </div>
                            <p>${{ product.price }}</p>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </main>
    </div>

    <!-- Link to External JavaScript -->
    <script src="{% static 'myapp/js/home.js' %}"></script>
</body>
</html>
